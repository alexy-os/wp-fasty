/* Base Element Styles */
body {
  font-family: var(--font-base);
  color: hsl(var(--foreground));
  background-color: hsl(var(--background));
}

h1, h2, h3, h4, h5, h6 {
  color: hsl(var(--foreground));
}

a {
  color: hsl(var(--primary));
}

a:hover {
  color: hsl(var(--primary) / 0.9);
}

button,
input[type="button"],
input[type="reset"],
input[type="submit"],
.button,
.widget a.button {
  background-color: hsl(var(--primary));
  color: hsl(var(--primary-foreground));
  border-radius: var(--radius);
  border-color: hsl(var(--primary));
}

button:hover,
input[type="button"]:hover,
input[type="reset"]:hover,
input[type="submit"]:hover,
.button:hover,
.widget a.button:hover {
  background-color: hsl(var(--primary) / 0.9);
}

.button.alt {
  background-color: hsl(var(--secondary));
  color: hsl(var(--secondary-foreground));
}

.button.alt:hover {
  background-color: hsl(var(--secondary) / 0.95);
}

/* Woocommerce Elements */
.woocommerce-message,
.woocommerce-info {
  background-color: hsl(var(--muted));
  color: hsl(var(--muted-foreground));
  border-color: hsl(var(--border));
}

.onsale,
.woocommerce-message:before {
  background-color: hsl(var(--primary));
  color: hsl(var(--primary-foreground));
}

/* Site Navigation */
.main-navigation ul li a {
  color: hsl(var(--foreground));
}

.main-navigation ul li a:hover {
  color: hsl(var(--primary));
}

/* Footer */
.site-footer {
  background-color: hsl(var(--muted));
  color: hsl(var(--muted-foreground));
}

.site-content {
  padding-top: 4rem;
}

/* Layout & Structure */
.col-full {
  @apply container mx-auto px-4 max-w-7xl;
}

.col-1 {
  @apply w-full;
}

.col-2 {
  @apply w-1/2;
}

/* Header */
.site-header {
  @apply sticky top-0 z-40 w-full border-b border-border/40 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60;
}

.site-header .col-full {
  @apply h-14 flex items-center justify-between;
}

.site-branding {
  @apply py-0;
}

.site-description {
  @apply text-muted-foreground text-sm;
}

/* Navigation */
.main-navigation,
.storefront-primary-navigation {
  @apply bg-background;
}

.main-navigation ul li a {
  @apply text-foreground hover:text-primary px-4 py-2 text-sm font-medium;
}

.secondary-navigation ul li a {
  @apply text-muted-foreground hover:text-foreground text-sm;
}

/* Content Areas */
.site-content {
  @apply py-8;
}

.site-content .col-full {
  @apply flex flex-col gap-8;
}

.content-area {
  @apply w-full lg:w-3/4 pr-0 lg:pr-8;
}

.site-main {
  @apply w-full;
}

/* Headers & Titles */
.page-header,
.entry-header {
  @apply w-full mb-8;
}

.entry-title,
.page-title {
  @apply text-3xl font-bold tracking-tight;
}

.alpha {
  @apply text-4xl font-bold;
}

.beta {
  @apply text-3xl font-semibold;
}

.gamma {
  @apply text-2xl font-semibold;
}

/* Page Title Section */
.entry-header {
  @apply mb-8 pb-6 border-b border-border/40;
}

/* Move page title outside content area */
.page-header,
.entry-header {
  @apply w-full mb-8;
}

/* Page title container */
.page-title-container {
  @apply w-full mb-8;
}

/* Content */
.entry-content,
.page-content {
  @apply max-w-none;
}

.entry-taxonomy {
  @apply text-sm text-muted-foreground mt-4;
}

/* Comments */
.comments-area {
  @apply mt-8 pt-8 border-t border-border;
}

.comment-list {
  @apply space-y-4;
}

/* WooCommerce Specific */
.storefront-sorting {
  @apply flex items-center justify-between mb-6 p-4 bg-muted rounded-md;
}

.storefront-breadcrumb {
  @apply py-4 text-sm text-muted-foreground;
}

/* Product Sections */
.storefront-product-section {
  @apply py-8 border-b border-border;
}

.storefront-featured-products,
.storefront-recent-products,
.storefront-popular-products,
.storefront-best-selling-products,
.storefront-on-sale-products {
  @apply grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-6;
}

.product-categories {
  @apply grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4;
}

/* Cart & Checkout */
.site-header-cart {
  @apply relative;
}

.storefront-sticky-add-to-cart {
  @apply fixed bottom-0 left-0 right-0 bg-background border-t border-border py-4 z-40;
}

.storefront-product-pagination {
  @apply fixed top-1/2 transform -translate-y-1/2 z-30;
}

/* Widgets */
.widget-area {
  @apply w-full lg:w-1/4 mt-8 lg:mt-0;
}

/* Footer */
.site-footer {
  @apply bg-muted text-muted-foreground py-12 mt-12;
}

/* Error Page */
.error-404 {
  @apply text-center py-16;
}

/* Responsive Design */
@screen lg {
  .hfeed {
    @apply flex flex-wrap;
  }
  
  .site-content {
    @apply flex flex-wrap;
  }
}

/* Product Grid Customization */
.storefront-product-section {
  .products {
    @apply grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-6;
  }
}

/* Breadcrumb Separator */
.storefront-breadcrumb .breadcrumb-separator {
  @apply mx-2 text-muted-foreground;
}

/* Site Branding */
.site-branding {
  .site-title {
    @apply text-2xl font-bold;
  }
  
  .site-description {
    @apply text-sm text-muted-foreground;
  }
}

/* Site Structure */
.hfeed.site {
  @apply min-h-screen flex flex-col;
}

/* Skip Links */
.skip-link {
  @apply sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 focus:z-50 
    focus:bg-background focus:p-4 focus:rounded-md focus:ring-2 focus:ring-ring;
}

/* Header Refinements */
.site-header {
  @apply border-b border-border;
}

.site-branding {
  @apply flex items-center py-4;
}

.beta.site-title {
  @apply text-xl font-semibold;
  
  a {
    @apply text-foreground hover:text-primary transition-colors no-underline;
  }
}

/* Navigation Improvements */
.storefront-primary-navigation {
  @apply border-t-0;
  
  .col-full {
    @apply h-12 flex items-center;
  }
}

.main-navigation {
  @apply w-full;
  
  ul {
    @apply flex items-center gap-1;
    
    li {
      @apply relative;
      
      a {
        @apply flex h-10 items-center px-4 text-sm font-medium transition-colors 
          hover:text-primary hover:bg-accent rounded-md;
      }
      
      &.current_page_item > a {
        @apply text-primary bg-accent;
      }
    }
  }
}

/* Content Area Fixes */
.site-content {
  @apply flex-grow py-8;
}

.col-full {
  @apply px-4 mx-auto max-w-7xl w-full;
}

/* Entry Content */
.entry-header {
  @apply mb-8 border-b border-border pb-4;
}

.entry-title {
  @apply text-3xl font-bold text-foreground mb-4;
}

.entry-content {
  @apply max-w-none;
  
  /* Blockquote styling */
  blockquote {
    @apply border-l-4 border-primary pl-4 italic my-6;
    
    p {
      @apply text-muted-foreground;
    }
  }
  
  a {
    @apply text-primary hover:text-primary/80 transition-colors;
  }
}

/* Footer Improvements */
.site-footer {
  @apply mt-auto bg-muted;
}

.site-info {
  @apply py-6 text-center text-sm text-muted-foreground;
  
  a {
    @apply text-primary hover:text-primary/80 transition-colors;
  }
}

/* Layout Utilities */
.right-sidebar {
  .content-area {
    @apply w-full lg:w-3/4 lg:pr-8;
  }
  
  .widget-area {
    @apply w-full lg:w-1/4;
  }
}

/* WordPress Alignment Classes */
.storefront-align-wide {
  .alignwide {
    @apply max-w-screen-xl mx-auto;
  }
  
  .alignfull {
    @apply max-w-full w-full;
  }
}

/* Mobile Menu Toggle */
.menu-toggle {
  @apply md:hidden inline-flex items-center justify-center rounded-md h-10 w-10
    bg-background hover:bg-accent hover:text-accent-foreground
    border border-input;
}

/* Fix duplicate menu */
.main-navigation .menu:nth-child(2) {
  @apply hidden;
}

/* Responsive Adjustments */
@screen md {
  .site-header .col-full {
    @apply h-16;
  }
  
  .storefront-primary-navigation .col-full {
    @apply h-14;
  }
  
  .beta.site-title {
    @apply text-2xl;
  }
}

/* Layout Structure Fix */
.site-content .col-full {
  @apply flex flex-col lg:flex-row gap-8;
}

/* Primary Content Area */
#primary.content-area {
  @apply flex-1;
}

/* Secondary Sidebar */
#secondary.widget-area {
  @apply w-full lg:w-80 shrink-0;
}

/* Widget Styling */
.widget {
  @apply mb-8 last:mb-0;
  
  .widget-title,
  .wp-block-heading {
    @apply text-lg font-semibold mb-4 text-foreground;
  }
}

/* Post Meta */
.posted-on,
.post-author,
.post-comments {
  @apply flex items-center gap-1;
  
  a {
    @apply text-foreground hover:text-primary;
  }
}

/* Entry Taxonomy */
.entry-taxonomy {
  @apply mt-6 pt-4 border-t border-border;
  
  .cat-links {
    @apply text-sm text-muted-foreground;
    
    a {
      @apply text-foreground hover:text-primary;
    }
  }
}

/* Comments Area */
.comments-area {
  @apply mt-8 pt-8 border-t border-border;
}

.comments-title {
  @apply text-xl font-semibold mb-6;
}

.comment-list {
  @apply space-y-6;
  
  .comment {
    @apply relative;
  }
  
  .comment-body {
    @apply bg-card rounded-lg p-4 shadow-sm;
  }
  
  .comment-meta {
    @apply flex items-start gap-4 mb-4;
  }
  
  .comment-author {
    @apply flex items-center gap-3;
    
    img {
      @apply rounded-full w-12 h-12;
    }
    
    .fn {
      @apply font-medium;
    }
  }
  
  .comment-date {
    @apply text-sm text-muted-foreground;
  }
  
  .comment-content {
    @apply text-foreground;
  }
  
  .reply {
    @apply mt-4;
    
    a {
      @apply text-sm text-primary hover:text-primary/80;
    }
  }
}

/* Comment Form */
.comment-respond {
  @apply mt-8 pt-8 border-t border-border;
  
  .comment-reply-title {
    @apply text-xl font-semibold mb-6;
  }
  
  .comment-notes {
    @apply text-sm text-muted-foreground mb-4;
  }
  
  .required {
    @apply text-destructive;
  }
  
  label {
    @apply block text-sm font-medium mb-2;
  }
  
  input[type="text"],
  input[type="email"],
  input[type="url"],
  textarea {
    @apply w-full rounded-md border border-input bg-background px-3 py-2 text-sm 
      ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none 
      focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2;
  }
  
  .submit {
    @apply inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background 
      transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring 
      focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50
      bg-primary text-primary-foreground hover:bg-primary/90
      h-10 px-4 py-2;
  }
}

/* Search Widget */
.wp-block-search {
  .wp-block-search__label {
    @apply sr-only;
  }
  
  .wp-block-search__inside-wrapper {
    @apply flex gap-2;
  }
  
  .wp-block-search__input {
    @apply flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm 
      ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none 
      focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2;
  }
  
  .wp-block-search__button {
    @apply inline-flex items-center justify-center rounded-md text-sm font-medium 
      bg-primary text-primary-foreground hover:bg-primary/90
      h-10 px-4 py-2;
  }
}

/* Latest Posts Widget */
.wp-block-latest-posts__list {
  @apply space-y-3;
  
  a {
    @apply text-foreground hover:text-primary no-underline;
  }
}

/* Latest Comments Widget */
.wp-block-latest-comments {
  @apply space-y-3 pl-0;
  
  &__comment-meta {
    @apply text-sm;
    
    a {
      @apply text-foreground hover:text-primary no-underline;
    }
  }
}

/* Archives & Categories Widget */
.wp-block-archives-list,
.wp-block-categories-list {
  @apply space-y-2 list-none pl-0;
  
  li {
    @apply text-sm;
    
    a {
      @apply text-foreground hover:text-primary no-underline;
    }
  }
}

/* Checkbox styling */
.comment-form-cookies-consent {
  @apply flex items-center gap-2 my-4;
  
  input[type="checkbox"] {
    @apply h-4 w-4 rounded border-input;
  }
  
  label {
    @apply text-sm text-muted-foreground;
  }
}

/* Post/Page Structure */
.post,
.page {
  @apply w-full;

  /* Fix col-full inside post/page */
  > .col-full {
    @apply flex flex-col w-full;
  }

  .entry-header {
    @apply w-full mb-8 pb-6 border-b border-border/40;
  }

  .entry-content {
    @apply w-full max-w-none;

    /* Typography and content styling */
    p {
      @apply mb-4;
    }

    blockquote {
      @apply my-6 border-l-4 border-primary pl-6 italic;

      p {
        @apply text-muted-foreground;
      }
    }

    a {
      @apply text-primary hover:text-primary/80 transition-colors;
    }
  }
}

/* Entry Title */
.entry-title {
  @apply text-3xl font-bold tracking-tight text-foreground mb-4;
}

/* WordPress Block Quote */
.wp-block-quote {
  @apply my-6 border-l-4 border-primary bg-card px-6 py-4 rounded-r-md;
}

/* Layout Flow */
.is-layout-flow {
  @apply space-y-4;
}