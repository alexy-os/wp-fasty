document.addEventListener('DOMContentLoaded', function() {
  const toggleButton = document.querySelector('.fasty-navbar-toggle');
  const mobileMenu = document.querySelector('.fasty-mobile-menu');
  
  if (toggleButton && mobileMenu) {
    toggleButton.addEventListener('click', function() {
      toggleButton.classList.toggle('is-active');
      mobileMenu.classList.toggle('is-active');
      document.body.classList.toggle('menu-open');
    });
  }
  
  // Добавим поддержку подменю на мобильных устройствах
  const subMenuParents = document.querySelectorAll('.fasty-mobile-menu .menu-item-has-children');
  
  subMenuParents.forEach(function(parent) {
    const link = parent.querySelector('a');
    const subMenu = parent.querySelector('.sub-menu');
    
    if (link && subMenu) {
      // Создаем кнопку раскрытия подменю
      const toggleBtn = document.createElement('button');
      toggleBtn.className = 'sub-menu-toggle';
      toggleBtn.innerHTML = '<span class="screen-reader-text">Toggle Submenu</span>';
      
      link.after(toggleBtn);
      
      toggleBtn.addEventListener('click', function(e) {
        e.preventDefault();
        parent.classList.toggle('sub-menu-open');
        subMenu.style.display = parent.classList.contains('sub-menu-open') ? 'block' : 'none';
      });
    }
  });
});